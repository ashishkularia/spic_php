<!DOCTYPE html>
<html>
<head>
	<title>StopWatch</title>
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
</head>
<body>
	<!-- StopWatch -->
	<div class="container">
		<div class="row">
			<div class="col-md-offset-4 col-md-4">
				<h1><i>11</i><b> : </b><i>50</i><b> : </b><i>00</i><i> AM </i></h1>
			</div>
		</div>
		<div class="row">
			<div class="col-md-4 col-md-offset-4">
				<input type="button" name="btnb" id="btnb" value="Start" onclick="startWatch()" class="btn btn-success">
				<input type="button" name="btnb" id="btnb" value="Lapse" onclick="lapseWatch()" class="btn btn-info">				
				<input type="button" name="btnb" id="btnb" value="Stop" onclick="stopWatch()" class="btn btn-danger">				
			</div>
		</div>
		<div class="row">
		</div>
	</div>

	<script type="text/javascript">
	var timer;

		function lapseWatch() {
			var lapse = document.getElementsByClassName("row");
			lapse[2].innerHTML = lapse[0].innerHTML;
		}

		function blink() {
			var blink = document.getElementsByTagName("b");
			var blink_len = blink.length;
			for (var i = 0; i < 2; i++) {
				if (blink[i].style.visibility === 'hidden') {
    	    		blink[i].style.visibility = 'visible';
    			} 
    			else {
    	    		blink[i].style.visibility = 'hidden';
    			}		
			}
//			var blink2 = setTimeout("blink()",100);
    	}

		function startWatch() {
			var italic = document.getElementsByTagName('i');
			var sec = italic[2].innerHTML;
			var min = italic[1].innerHTML;
			var hr = italic[0].innerHTML;
			var med = italic[3].innerHTML;
			if(hr<12) {
				if(min<60) {
					if(sec<60) {
						sec++;
						blink();
						if (sec<10) {
							sec="0"+sec;
						}
					}
					else {
						sec="00";
						min++;
						if (min<10) {
							min="0"+min;
						}
					}
				}
				else {
					sec=min="00";
					hr++;
					if (hr<10) {
						hr="0"+hr;
					}
				}
			}
			else {
				sec=min=hr="00";
				if (med=="PM") {
					med = "AM";
				}
				else{med="PM";}
			}
			italic[3].innerHTML=med;
			italic[0].innerHTML=hr;
			italic[1].innerHTML=min;
			italic[2].innerHTML = sec;
//			blink();
			timer = setTimeout("startWatch()", 1000);
	
		}

		function stopWatch() {
			clearTimeout(timer);
			clearTimeout(blink2);
		}
	</script>
</body>
</html>